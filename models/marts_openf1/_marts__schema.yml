version: 2
models:
  - name: dim_session
    columns:
      - name: session_key
        tests: [unique, not_null]

  - name: dim_driver
    columns:
      - name: driver_sk
        tests: [unique, not_null]

  - name: fct_driver_race_pace
    columns:
      - name: driver_sk
        tests:
          - relationships:
              to: ref('dim_driver')
              field: driver_sk
      - name: session_key
        tests:
          - relationships:
              to: ref('dim_session')
              field: session_key

  - name: fct_pit_stop
    columns:
      - name: driver_sk
        tests:
          - relationships:
              to: ref('dim_driver')
              field: driver_sk
      - name: session_key
        tests:
          - relationships:
              to: ref('dim_session')
              field: session_key
